{"ast":null,"code":"import{useState,useEffect}from'react';// --- Helper Components ---\n// Icon component for better semantics and reusability\nimport{jsx as _jsx}from\"react/jsx-runtime\";const Icon=_ref=>{let{path,className=\"w-5 h-5\"}=_ref;return/*#__PURE__*/_jsx(\"svg\",{className:className,fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:path})});};// Loader component\nconst Loader=_ref2=>{let{size='w-6 h-6'}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"loader border-4 border-slate-200 border-t-blue-600 rounded-full animate-spin \".concat(size)});};// Modal component to handle modal logic centrally\nconst Modal=_ref3=>{let{isOpen,onClose,children,maxWidth=\"max-w-md\"}=_ref3;const[show,setShow]=useState(false);useEffect(()=>{if(isOpen){setShow(true);}else{const timer=setTimeout(()=>setShow(false),300);return()=>clearTimeout(timer);}},[isOpen]);if(!show)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 transition-opacity duration-300 \".concat(isOpen?'opacity-100':'opacity-0'),onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content bg-white rounded-lg shadow-xl w-full \".concat(maxWidth,\" p-6 transform transition-all duration-300 \").concat(isOpen?'scale-100 opacity-100':'scale-95 opacity-0'),onClick:e=>e.stopPropagation(),children:children})});};// --- API Helper ---\nasync function callGemini(prompt){let generationConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const apiKey=\"\";// Injected by environment\nconst apiUrl=\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=\".concat(apiKey);const payload={contents:[{role:\"user\",parts:[{text:prompt}]}]};if(generationConfig){payload.generationConfig=generationConfig;}const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});if(!response.ok){const errorBody=await response.text();console.error(\"API Error Response:\",errorBody);throw new Error(\"API call failed with status: \".concat(response.status));}const result=await response.json();if(result.candidates&&result.candidates.length>0&&result.candidates[0].content&&result.candidates[0].content.parts&&result.candidates[0].content.parts.length>0){return result.candidates[0].content.parts[0].text;}else{console.error(\"Unexpected API response structure:\",result);throw new Error(\"Could not extract text from API response.\");}}export{Icon,Loader,Modal,callGemini};","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","Icon","_ref","path","className","fill","stroke","viewBox","xmlns","children","strokeLinecap","strokeLinejoin","strokeWidth","d","Loader","_ref2","size","concat","Modal","_ref3","isOpen","onClose","maxWidth","show","setShow","timer","setTimeout","clearTimeout","onClick","e","stopPropagation","callGemini","prompt","generationConfig","arguments","length","undefined","apiKey","apiUrl","payload","contents","role","parts","text","response","fetch","method","headers","body","JSON","stringify","ok","errorBody","console","error","Error","status","result","json","candidates","content"],"sources":["E:/Projects/AC/cargotest/cargo_frontend/my-cargo/src/components/helpers.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n// --- Helper Components ---\r\n\r\n// Icon component for better semantics and reusability\r\nconst Icon = ({ path, className = \"w-5 h-5\" }) => (\r\n    <svg className={className} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d={path}></path>\r\n    </svg>\r\n);\r\n\r\n// Loader component\r\nconst Loader = ({ size = 'w-6 h-6' }) => (\r\n    <div className={`loader border-4 border-slate-200 border-t-blue-600 rounded-full animate-spin ${size}`}></div>\r\n);\r\n\r\n\r\n// Modal component to handle modal logic centrally\r\nconst Modal = ({ isOpen, onClose, children, maxWidth = \"max-w-md\" }) => {\r\n    const [show, setShow] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setShow(true);\r\n        } else {\r\n            const timer = setTimeout(() => setShow(false), 300);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    if (!show) return null;\r\n\r\n    return (\r\n        <div \r\n            className={`modal fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0'}`}\r\n            onClick={onClose}\r\n        >\r\n            <div \r\n                className={`modal-content bg-white rounded-lg shadow-xl w-full ${maxWidth} p-6 transform transition-all duration-300 ${isOpen ? 'scale-100 opacity-100' : 'scale-95 opacity-0'}`}\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- API Helper ---\r\nasync function callGemini(prompt, generationConfig = null) {\r\n    const apiKey = \"\"; // Injected by environment\r\n    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;\r\n    \r\n    const payload = {\r\n        contents: [{ role: \"user\", parts: [{ text: prompt }] }],\r\n    };\r\n    if (generationConfig) {\r\n        payload.generationConfig = generationConfig;\r\n    }\r\n\r\n    const response = await fetch(apiUrl, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    if (!response.ok) {\r\n        const errorBody = await response.text();\r\n        console.error(\"API Error Response:\", errorBody);\r\n        throw new Error(`API call failed with status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    \r\n    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {\r\n        return result.candidates[0].content.parts[0].text;\r\n    } else {\r\n        console.error(\"Unexpected API response structure:\", result);\r\n        throw new Error(\"Could not extract text from API response.\");\r\n    }\r\n}\r\n\r\nexport { Icon, Loader, Modal, callGemini };"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C;AAEA;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,KAAM,CAAAC,IAAI,CAAGC,IAAA,MAAC,CAAEC,IAAI,CAAEC,SAAS,CAAG,SAAU,CAAC,CAAAF,IAAA,oBACzCF,IAAA,QAAKI,SAAS,CAAEA,SAAU,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,4BAA4B,CAAAC,QAAA,cAC/GT,IAAA,SAAMU,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAC,GAAG,CAACC,CAAC,CAAEV,IAAK,CAAO,CAAC,CAClF,CAAC,EACT,CAED;AACA,KAAM,CAAAW,MAAM,CAAGC,KAAA,MAAC,CAAEC,IAAI,CAAG,SAAU,CAAC,CAAAD,KAAA,oBAChCf,IAAA,QAAKI,SAAS,iFAAAa,MAAA,CAAkFD,IAAI,CAAG,CAAM,CAAC,EACjH,CAGD;AACA,KAAM,CAAAE,KAAK,CAAGC,KAAA,EAA0D,IAAzD,CAAEC,MAAM,CAAEC,OAAO,CAAEZ,QAAQ,CAAEa,QAAQ,CAAG,UAAW,CAAC,CAAAH,KAAA,CAC/D,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAEvCC,SAAS,CAAC,IAAM,CACZ,GAAIsB,MAAM,CAAE,CACRI,OAAO,CAAC,IAAI,CAAC,CACjB,CAAC,IAAM,CACH,KAAM,CAAAC,KAAK,CAAGC,UAAU,CAAC,IAAMF,OAAO,CAAC,KAAK,CAAC,CAAE,GAAG,CAAC,CACnD,MAAO,IAAMG,YAAY,CAACF,KAAK,CAAC,CACpC,CACJ,CAAC,CAAE,CAACL,MAAM,CAAC,CAAC,CAEZ,GAAI,CAACG,IAAI,CAAE,MAAO,KAAI,CAEtB,mBACIvB,IAAA,QACII,SAAS,yHAAAa,MAAA,CAA0HG,MAAM,CAAG,aAAa,CAAG,WAAW,CAAG,CAC1KQ,OAAO,CAAEP,OAAQ,CAAAZ,QAAA,cAEjBT,IAAA,QACII,SAAS,uDAAAa,MAAA,CAAwDK,QAAQ,gDAAAL,MAAA,CAA8CG,MAAM,CAAG,uBAAuB,CAAG,oBAAoB,CAAG,CACjLQ,OAAO,CAAEC,CAAC,EAAIA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAArB,QAAA,CAEjCA,QAAQ,CACR,CAAC,CACL,CAAC,CAEd,CAAC,CAED;AACA,cAAe,CAAAsB,UAAUA,CAACC,MAAM,CAA2B,IAAzB,CAAAC,gBAAgB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CACrD,KAAM,CAAAG,MAAM,CAAG,EAAE,CAAE;AACnB,KAAM,CAAAC,MAAM,+GAAArB,MAAA,CAAiHoB,MAAM,CAAE,CAErI,KAAM,CAAAE,OAAO,CAAG,CACZC,QAAQ,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAM,CAAEC,KAAK,CAAE,CAAC,CAAEC,IAAI,CAAEX,MAAO,CAAC,CAAE,CAAC,CAC1D,CAAC,CACD,GAAIC,gBAAgB,CAAE,CAClBM,OAAO,CAACN,gBAAgB,CAAGA,gBAAgB,CAC/C,CAEA,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACP,MAAM,CAAE,CACjCQ,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACX,OAAO,CAChC,CAAC,CAAC,CAEF,GAAI,CAACK,QAAQ,CAACO,EAAE,CAAE,CACd,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAR,QAAQ,CAACD,IAAI,CAAC,CAAC,CACvCU,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAEF,SAAS,CAAC,CAC/C,KAAM,IAAI,CAAAG,KAAK,iCAAAtC,MAAA,CAAiC2B,QAAQ,CAACY,MAAM,CAAE,CAAC,CACtE,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAb,QAAQ,CAACc,IAAI,CAAC,CAAC,CAEpC,GAAID,MAAM,CAACE,UAAU,EAAIF,MAAM,CAACE,UAAU,CAACxB,MAAM,CAAG,CAAC,EAAIsB,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,EAAIH,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAAClB,KAAK,EAAIe,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAAClB,KAAK,CAACP,MAAM,CAAG,CAAC,CAAE,CAC1K,MAAO,CAAAsB,MAAM,CAACE,UAAU,CAAC,CAAC,CAAC,CAACC,OAAO,CAAClB,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CACrD,CAAC,IAAM,CACHU,OAAO,CAACC,KAAK,CAAC,oCAAoC,CAAEG,MAAM,CAAC,CAC3D,KAAM,IAAI,CAAAF,KAAK,CAAC,2CAA2C,CAAC,CAChE,CACJ,CAEA,OAAStD,IAAI,CAAEa,MAAM,CAAEI,KAAK,CAAEa,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}